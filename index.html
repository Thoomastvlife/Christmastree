<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è–èª•å¿«æ¨‚ - æµªæ¼«è–èª•æ¨¹</title>
    <style>
        /* æ•´é«”èƒŒæ™¯èˆ‡ä½ˆå±€ */
        body {
            background-color: #001100;
            margin: 0;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            perspective: 1000px; /* 3D é€è¦–æ„Ÿ */
        }

        /* è–èª•æ¨¹å®¹å™¨ - ä¿®å¤ä½ç½®åç§» */
        .tree-container {
            position: relative;
            width: 300px;
            height: 400px;
            transform-style: preserve-3d;
            animation: rotateTree 15s infinite linear; /* è‡ªå‹•æ—‹è½‰ */
            margin-top: 30px; /* åŒ¹é…æ˜Ÿæ˜Ÿä½ç½® */
        }

        @keyframes rotateTree {
            from { transform: rotateY(0deg); }
            to { transform: rotateY(360deg); }
        }

        /* æ¨¹çš„æ¯ä¸€å±¤ï¼ˆæ˜Ÿå…‰é»é»+é—ªçƒåŠ¨ç”»ï¼‰ */
        .dot {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #fff;
            border-radius: 50%;
            opacity: 0.8;
            box-shadow: 0 0 10px 2px rgba(255, 255, 255, 0.5);
            animation: blink 2s infinite alternate; /* å…‰ç‚¹é—ªçƒ */
        }

        /* å…‰ç‚¹é—ªçƒåŠ¨ç”» */
        @keyframes blink {
            from { opacity: 0.5; box-shadow: 0 0 8px 1px rgba(255,255,255,0.3); }
            to { opacity: 1; box-shadow: 0 0 12px 3px rgba(255,255,255,0.8); }
        }

        /* é ‚éƒ¨çš„æ˜Ÿæ˜Ÿ + æ—‹è½¬åŠ¨ç”» */
        .star {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -100%);
            margin-top: -200px; /* ç²¾å‡†å®šä½åˆ°æ ‘é¡¶ */
            color: gold;
            font-size: 40px;
            filter: drop-shadow(0 0 15px gold);
            z-index: 100;
            animation: spinStar 5s infinite linear; /* æ˜Ÿæ˜Ÿæ—‹è½¬ */
        }

        @keyframes spinStar {
            from { transform: translate(-50%, -100%) rotate(0deg); }
            to { transform: translate(-50%, -100%) rotate(360deg); }
        }

        /* æ–‡å­—æ¨£å¼ */
        .message {
            position: absolute;
            bottom: 50px;
            width: 100%;
            text-align: center;
            color: white;
            font-family: 'Microsoft JhengHei', sans-serif;
            text-shadow: 0 0 10px rgba(255,255,255,0.8);
            pointer-events: none;
        }

        h1 { font-size: 2.5em; margin-bottom: 0.2em; color: #ff4d4d; }
        p { font-size: 1.2em; letter-spacing: 2px; }

        /* é›ªèŠ±æ•ˆæœ - æ›´è‡ªç„¶çš„é£˜è½ï¼ˆåŠ æ‘‡æ‘†ï¼‰ */
        .snow {
            position: absolute;
            top: -10px;
            color: white;
            user-select: none;
            z-index: 1000;
            pointer-events: none;
            animation: fall linear forwards, swing 3s infinite alternate; /* ä¸‹è½+æ‘‡æ‘† */
        }

        @keyframes fall {
            to { transform: translateY(110vh); }
        }

        /* é›ªèŠ±æ‘‡æ‘†åŠ¨ç”» */
        @keyframes swing {
            from { transform: translateX(0px); }
            to { transform: translateX(15px); }
        }

        /* éŸ³ä¹æ§åˆ¶æŒ‰é’® */
        #music-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0,0,0,0.7);
            color: white;
            border: 1px solid gold;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-family: 'Microsoft JhengHei', sans-serif;
            z-index: 999;
        }
    </style>
</head>
<body>
    <!-- éŸ³ä¹æ§åˆ¶æŒ‰é’® -->
    <button id="music-btn">ğŸ”Š é—œé–‰éŸ³æ¨‚</button>
    <!-- éŸ³é¢‘å…ƒç´  -->
    <audio id="bg-music" loop>
        <source src="https://cdn.freesound.org/previews/686/686091_12095518-lq.mp3" type="audio/mpeg">
        ä½ çš„ç€è¦½å™¨ä¸æ”¯æ´éŸ³é »æ’­æ”¾
    </audio>

    <div class="star">â˜…</div>
    <div class="tree-container" id="tree"></div>
    <div class="message">
        <h1>Merry Christmas</h1>
        <p>ç¥ä½ è–èª•å¿«æ¨‚ï¼Œå¹¸ç¦æ°¸é </p>
    </div>

    <script>
        // ========== èƒŒæ™¯éŸ³ä¹æ§åˆ¶ ==========
        const audio = document.getElementById('bg-music');
        const musicBtn = document.getElementById('music-btn');
        let isMusicPlaying = false;
        audio.volume = 0.5; // é»˜è®¤éŸ³é‡

        // ç‚¹å‡»é¡µé¢ä»»æ„ä½ç½®æ’­æ”¾éŸ³ä¹ï¼ˆè§£å†³æµè§ˆå™¨é™åˆ¶ï¼‰
        document.addEventListener('click', () => {
            if (!isMusicPlaying) {
                audio.play().then(() => {
                    isMusicPlaying = true;
                    musicBtn.textContent = "ğŸ”Š é—œé–‰éŸ³æ¨‚";
                }).catch(err => {
                    musicBtn.textContent = "ğŸ”‡ æ’­æ”¾å¤±æ•—ï¼Œé»æ“Šé‡è©¦";
                });
            }
        });

        // éŸ³ä¹æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        musicBtn.addEventListener('click', () => {
            if (isMusicPlaying) {
                audio.pause();
                isMusicPlaying = false;
                musicBtn.textContent = "ğŸ”‡ æ’­æ”¾éŸ³æ¨‚";
            } else {
                audio.play().then(() => {
                    isMusicPlaying = true;
                    musicBtn.textContent = "ğŸ”Š é—œé–‰éŸ³æ¨‚";
                });
            }
        });

        // ========== ç”Ÿæˆè–èª•æ¨¹çš„èºæ—‹é»ä½ ==========
        const treeContainer = document.getElementById('tree');
        const dotsCount = 200; // é»çš„æ•¸é‡

        for (let i = 0; i < dotsCount; i++) {
            const dot = document.createElement('div');
            dot.className = 'dot';
            
            // èºæ—‹è·¯å¾‘ç®—æ³•
            const y = i * 2; // é«˜åº¦
            const radius = (dotsCount - i) * 0.8; // åŠå¾‘éš¨é«˜åº¦éæ¸›
            const angle = i * 0.2; // æ—‹è½‰è§’åº¦
            
            const x = Math.cos(angle) * radius;
            const z = Math.sin(angle) * radius;
            
            // é¡è‰²éš¨æ©Ÿè®Šæ› (é‡‘ã€ç¶ ã€ç´…ã€ç™½)
            const colors = ['#f00', '#0f0', '#fff', '#ffd700'];
            dot.style.background = colors[Math.floor(Math.random() * colors.length)];
            
            // æ¯ä¸ªå…‰ç‚¹çš„é—ªçƒå»¶è¿Ÿéšæœºï¼Œæ›´è‡ªç„¶
            dot.style.animationDelay = (Math.random() * 2) + 's';
            dot.style.transform = `translate3d(${x + 150}px, ${y}px, ${z}px)`;
            treeContainer.appendChild(dot);
        }

        // ========== ç”Ÿæˆé›ªèŠ± ==========
        function createSnow() {
            const snow = document.createElement('div');
            snow.className = 'snow';
            snow.innerText = 'â„';
            snow.style.left = Math.random() * 100 + 'vw';
            snow.style.fontSize = (Math.random() * 10 + 10) + 'px';
            snow.style.opacity = Math.random() * 0.8 + 0.2; // é€æ˜åº¦0.2-1ï¼Œé¿å…å¤ªæ·¡
            snow.style.animationDuration = (Math.random() * 5 + 3) + 's'; // ä¸‹è½é€Ÿåº¦3-8ç§’
            // é›ªèŠ±æ‘‡æ‘†å»¶è¿Ÿéšæœº
            snow.style.animationDelay = (Math.random() * 2) + 's';
            
            document.body.appendChild(snow);
            
            setTimeout(() => {
                snow.remove();
            }, 8000); // å»¶é•¿é›ªèŠ±å­˜åœ¨æ—¶é—´ï¼ŒåŒ¹é…æ›´é•¿çš„ä¸‹è½åŠ¨ç”»
        }

        setInterval(createSnow, 150); // æ¯150msç”Ÿæˆä¸€ä¸ªé›ªèŠ±ï¼Œæ›´å¯†é›†ä½†ä¸å¡é¡¿
    </script>
</body>
</html>
